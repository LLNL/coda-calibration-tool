<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Thu Aug 01 10:52:05 PDT 2024 -->
<title>SpectraCalculator (coda-calibration 1.0.22 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-08-01">
<meta name="description" content="declaration: package: gov.llnl.gnem.apps.coda.calibration.service.impl.processing, class: SpectraCalculator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/SpectraCalculator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">gov.llnl.gnem.apps.coda.calibration.service.impl.processing</a></div>
<h1 title="Class SpectraCalculator" class="title">Class SpectraCalculator</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">gov.llnl.gnem.apps.coda.calibration.service.impl.processing.SpectraCalculator</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Component
</span><span class="modifiers">public class </span><span class="element-name type-name-label">SpectraCalculator</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(gov.llnl.gnem.apps.coda.common.service.util.WaveformToTimeSeriesConverter,gov.llnl.gnem.apps.coda.calibration.service.impl.processing.SyntheticCodaModel,gov.llnl.gnem.apps.coda.calibration.service.impl.processing.MdacCalculatorService,gov.llnl.gnem.apps.coda.calibration.service.api.MdacParametersFiService,gov.llnl.gnem.apps.coda.calibration.service.api.MdacParametersPsService,gov.llnl.gnem.apps.coda.calibration.model.domain.VelocityConfiguration)" class="member-name-link">SpectraCalculator</a><wbr>(<a href="../../../../common/service/util/WaveformToTimeSeriesConverter.html" title="class in gov.llnl.gnem.apps.coda.common.service.util">WaveformToTimeSeriesConverter</a>&nbsp;converter,
 <a href="SyntheticCodaModel.html" title="class in gov.llnl.gnem.apps.coda.calibration.service.impl.processing">SyntheticCodaModel</a>&nbsp;syntheticCodaModel,
 <a href="MdacCalculatorService.html" title="class in gov.llnl.gnem.apps.coda.calibration.service.impl.processing">MdacCalculatorService</a>&nbsp;mdacService,
 <a href="../../api/MdacParametersFiService.html" title="interface in gov.llnl.gnem.apps.coda.calibration.service.api">MdacParametersFiService</a>&nbsp;mdacFiService,
 <a href="../../api/MdacParametersPsService.html" title="interface in gov.llnl.gnem.apps.coda.calibration.service.api">MdacParametersPsService</a>&nbsp;mdacPsService,
 <a href="../../../model/domain/VelocityConfiguration.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">VelocityConfiguration</a>&nbsp;velConf)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="EnergyInfo.html" title="class in gov.llnl.gnem.apps.coda.calibration.service.impl.processing">EnergyInfo</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#calcTotalEnergyInfo(java.util.SortedMap,double,double,gov.llnl.gnem.apps.coda.calibration.model.domain.MdacParametersFI,gov.llnl.gnem.apps.coda.calibration.model.domain.Spectra)" class="member-name-link">calcTotalEnergyInfo</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedMap.html" title="class or interface in java.util" class="external-link">SortedMap</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;measurements,
 double&nbsp;mwMDAC,
 double&nbsp;apparentStress,
 <a href="../../../model/domain/MdacParametersFI.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MdacParametersFI</a>&nbsp;mdacFI,
 <a href="../../../model/domain/Spectra.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">Spectra</a>&nbsp;spec)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Now compute the total energy by summing the squared product of the
 discrete path-corrected moment rate spectra and omega.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../model/domain/Spectra.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">Spectra</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#computeFitSpectra(gov.llnl.gnem.apps.coda.calibration.model.domain.MeasuredMwParameters,java.util.Collection,gov.llnl.gnem.apps.coda.common.model.util.PICK_TYPES)" class="member-name-link">computeFitSpectra</a><wbr>(<a href="../../../model/domain/MeasuredMwParameters.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MeasuredMwParameters</a>&nbsp;event,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>&gt;&nbsp;bands,
 <a href="../../../../common/model/util/PICK_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">PICK_TYPES</a>&nbsp;selectedPhase)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../model/domain/Spectra.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">Spectra</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#computeReferenceSpectra(gov.llnl.gnem.apps.coda.calibration.model.domain.ReferenceMwParameters,java.util.List,gov.llnl.gnem.apps.coda.common.model.util.PICK_TYPES)" class="member-name-link">computeReferenceSpectra</a><wbr>(<a href="../../../model/domain/ReferenceMwParameters.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">ReferenceMwParameters</a>&nbsp;refEvent,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>&gt;&nbsp;bands,
 <a href="../../../../common/model/util/PICK_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">PICK_TYPES</a>&nbsp;selectedPhase)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../model/domain/Spectra.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">Spectra</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#computeSpecificSpectra(java.lang.Double,java.lang.Double,gov.llnl.gnem.apps.coda.calibration.service.impl.processing.EnergyInfo,java.util.Collection,gov.llnl.gnem.apps.coda.common.model.util.PICK_TYPES,gov.llnl.gnem.apps.coda.common.model.util.SPECTRA_TYPES)" class="member-name-link">computeSpecificSpectra</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&nbsp;mw,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&nbsp;apparentStress,
 <a href="EnergyInfo.html" title="class in gov.llnl.gnem.apps.coda.calibration.service.impl.processing">EnergyInfo</a>&nbsp;energyInfo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>&gt;&nbsp;bands,
 <a href="../../../../common/model/util/PICK_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">PICK_TYPES</a>&nbsp;selectedPhase,
 <a href="../../../../common/model/util/SPECTRA_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">SPECTRA_TYPES</a>&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../model/domain/Spectra.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">Spectra</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#computeSpecificSpectraFromM0(double,double,double,double,int)" class="member-name-link">computeSpecificSpectraFromM0</a><wbr>(double&nbsp;moment,
 double&nbsp;apparentStress,
 double&nbsp;startBand,
 double&nbsp;stopBand,
 int&nbsp;bandCount)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#fitMw(gov.llnl.gnem.apps.coda.common.model.domain.Event,java.util.Map,gov.llnl.gnem.apps.coda.common.model.util.PICK_TYPES,gov.llnl.gnem.apps.coda.calibration.model.domain.MdacParametersFI,gov.llnl.gnem.apps.coda.calibration.model.domain.MdacParametersPS,java.util.function.Function)" class="member-name-link">fitMw</a><wbr>(<a href="../../../../common/model/domain/Event.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">Event</a>&nbsp;event,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>,<wbr>org.apache.commons.math3.stat.descriptive.SummaryStatistics&gt;&nbsp;measurements,
 <a href="../../../../common/model/util/PICK_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">PICK_TYPES</a>&nbsp;phase,
 <a href="../../../model/domain/MdacParametersFI.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MdacParametersFI</a>&nbsp;mdacFi,
 <a href="../../../model/domain/MdacParametersPS.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MdacParametersPS</a>&nbsp;mdacPs,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedMap.html" title="class or interface in java.util" class="external-link">SortedMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&gt;&nbsp;weightFunction)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Grid search across a range of corner frequency and stress parameters
 looking for the best fit theoretical source spectra and return the
 resulting MW measurement.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#log10ESHcorrection(double,double,double,double,double)" class="member-name-link">log10ESHcorrection</a><wbr>(double&nbsp;s1,
 double&nbsp;s2,
 double&nbsp;xcross,
 double&nbsp;xtrans,
 double&nbsp;distance)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Extended Street and Herrmann path correction

 calculate log10 extended Street-Herrmann model for one distance no site,
 no Q terms

 translated from Scott Phillips original fortran function eshmod</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#log10ESHcorrection(double,double,double,double,double,double,double,double,gov.llnl.gnem.apps.coda.calibration.model.domain.VelocityConfiguration)" class="member-name-link">log10ESHcorrection</a><wbr>(double&nbsp;lowfreq,
 double&nbsp;highfreq,
 double&nbsp;alpha1,
 double&nbsp;alpha2,
 double&nbsp;xc,
 double&nbsp;xt,
 double&nbsp;q,
 double&nbsp;distance,
 <a href="../../../model/domain/VelocityConfiguration.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">VelocityConfiguration</a>&nbsp;velocityConfig)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Scott Phillips Extended Street and Hermann path correction including
 distance and Q</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../model/domain/SpectraMeasurement.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">SpectraMeasurement</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#measureAmplitudes(java.util.List,java.util.Map,gov.llnl.gnem.apps.coda.calibration.model.domain.VelocityConfiguration)" class="member-name-link">measureAmplitudes</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../../common/model/domain/SyntheticCoda.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">SyntheticCoda</a>&gt;&nbsp;generatedSynthetics,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>,<wbr><a href="../../../../common/model/domain/SharedFrequencyBandParameters.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">SharedFrequencyBandParameters</a>&gt;&nbsp;frequencyBandParameterMap,
 <a href="../../../model/domain/VelocityConfiguration.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">VelocityConfiguration</a>&nbsp;velocityConfig)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../model/domain/SpectraMeasurement.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">SpectraMeasurement</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#measureAmplitudes(java.util.List,java.util.Map,gov.llnl.gnem.apps.coda.calibration.model.domain.VelocityConfiguration,java.util.Map)" class="member-name-link">measureAmplitudes</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../../common/model/domain/SyntheticCoda.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">SyntheticCoda</a>&gt;&nbsp;generatedSynthetics,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>,<wbr><a href="../../../../common/model/domain/SharedFrequencyBandParameters.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">SharedFrequencyBandParameters</a>&gt;&nbsp;frequencyBandParameterMap,
 <a href="../../../model/domain/VelocityConfiguration.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">VelocityConfiguration</a>&nbsp;velocityConfig,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../../../common/model/domain/Station.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">Station</a>,<wbr><a href="../../../model/domain/SiteFrequencyBandParameters.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">SiteFrequencyBandParameters</a>&gt;&gt;&nbsp;frequencyBandSiteParameterMap)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../model/domain/MeasuredMwParameters.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MeasuredMwParameters</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#measureMws(gov.llnl.gnem.apps.coda.calibration.service.impl.processing.MwMeasurementInputData,gov.llnl.gnem.apps.coda.common.model.util.PICK_TYPES,gov.llnl.gnem.apps.coda.calibration.model.domain.MdacParametersFI)" class="member-name-link">measureMws</a><wbr>(<a href="MwMeasurementInputData.html" title="class in gov.llnl.gnem.apps.coda.calibration.service.impl.processing">MwMeasurementInputData</a>&nbsp;inputData,
 <a href="../../../../common/model/util/PICK_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">PICK_TYPES</a>&nbsp;selectedPhase,
 <a href="../../../model/domain/MdacParametersFI.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MdacParametersFI</a>&nbsp;mdacFi)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">An estimate of the Mw and corner frequency based on Mdac spectra Based on
 the MDAC2 spectra calculations published by Walter and Taylor, 2001
 UCRL-ID-146882</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#WCVRMSD(java.util.Map,java.util.Map)" class="member-name-link">WCVRMSD</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;weightMap,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr>double[]&gt;&nbsp;dataMap)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(gov.llnl.gnem.apps.coda.common.service.util.WaveformToTimeSeriesConverter,gov.llnl.gnem.apps.coda.calibration.service.impl.processing.SyntheticCodaModel,gov.llnl.gnem.apps.coda.calibration.service.impl.processing.MdacCalculatorService,gov.llnl.gnem.apps.coda.calibration.service.api.MdacParametersFiService,gov.llnl.gnem.apps.coda.calibration.service.api.MdacParametersPsService,gov.llnl.gnem.apps.coda.calibration.model.domain.VelocityConfiguration)">
<h3>SpectraCalculator</h3>
<div class="member-signature"><span class="annotations">@Autowired
</span><span class="modifiers">public</span>&nbsp;<span class="element-name">SpectraCalculator</span><wbr><span class="parameters">(<a href="../../../../common/service/util/WaveformToTimeSeriesConverter.html" title="class in gov.llnl.gnem.apps.coda.common.service.util">WaveformToTimeSeriesConverter</a>&nbsp;converter,
 <a href="SyntheticCodaModel.html" title="class in gov.llnl.gnem.apps.coda.calibration.service.impl.processing">SyntheticCodaModel</a>&nbsp;syntheticCodaModel,
 <a href="MdacCalculatorService.html" title="class in gov.llnl.gnem.apps.coda.calibration.service.impl.processing">MdacCalculatorService</a>&nbsp;mdacService,
 <a href="../../api/MdacParametersFiService.html" title="interface in gov.llnl.gnem.apps.coda.calibration.service.api">MdacParametersFiService</a>&nbsp;mdacFiService,
 <a href="../../api/MdacParametersPsService.html" title="interface in gov.llnl.gnem.apps.coda.calibration.service.api">MdacParametersPsService</a>&nbsp;mdacPsService,
 <a href="../../../model/domain/VelocityConfiguration.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">VelocityConfiguration</a>&nbsp;velConf)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="measureAmplitudes(java.util.List,java.util.Map,gov.llnl.gnem.apps.coda.calibration.model.domain.VelocityConfiguration)">
<h3>measureAmplitudes</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../model/domain/SpectraMeasurement.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">SpectraMeasurement</a>&gt;</span>&nbsp;<span class="element-name">measureAmplitudes</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../../common/model/domain/SyntheticCoda.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">SyntheticCoda</a>&gt;&nbsp;generatedSynthetics,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>,<wbr><a href="../../../../common/model/domain/SharedFrequencyBandParameters.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">SharedFrequencyBandParameters</a>&gt;&nbsp;frequencyBandParameterMap,
 <a href="../../../model/domain/VelocityConfiguration.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">VelocityConfiguration</a>&nbsp;velocityConfig)</span></div>
</section>
</li>
<li>
<section class="detail" id="measureAmplitudes(java.util.List,java.util.Map,gov.llnl.gnem.apps.coda.calibration.model.domain.VelocityConfiguration,java.util.Map)">
<h3>measureAmplitudes</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../model/domain/SpectraMeasurement.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">SpectraMeasurement</a>&gt;</span>&nbsp;<span class="element-name">measureAmplitudes</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../../common/model/domain/SyntheticCoda.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">SyntheticCoda</a>&gt;&nbsp;generatedSynthetics,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>,<wbr><a href="../../../../common/model/domain/SharedFrequencyBandParameters.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">SharedFrequencyBandParameters</a>&gt;&nbsp;frequencyBandParameterMap,
 <a href="../../../model/domain/VelocityConfiguration.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">VelocityConfiguration</a>&nbsp;velocityConfig,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../../../common/model/domain/Station.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">Station</a>,<wbr><a href="../../../model/domain/SiteFrequencyBandParameters.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">SiteFrequencyBandParameters</a>&gt;&gt;&nbsp;frequencyBandSiteParameterMap)</span></div>
</section>
</li>
<li>
<section class="detail" id="log10ESHcorrection(double,double,double,double,double,double,double,double,gov.llnl.gnem.apps.coda.calibration.model.domain.VelocityConfiguration)">
<h3>log10ESHcorrection</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">log10ESHcorrection</span><wbr><span class="parameters">(double&nbsp;lowfreq,
 double&nbsp;highfreq,
 double&nbsp;alpha1,
 double&nbsp;alpha2,
 double&nbsp;xc,
 double&nbsp;xt,
 double&nbsp;q,
 double&nbsp;distance,
 <a href="../../../model/domain/VelocityConfiguration.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">VelocityConfiguration</a>&nbsp;velocityConfig)</span></div>
<div class="block">Scott Phillips Extended Street and Hermann path correction including
 distance and Q</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lowfreq</code> - the low frequency cut</dd>
<dd><code>highfreq</code> - the high frequency cut</dd>
<dd><code>alpha1</code> - </dd>
<dd><code>alpha2</code> - </dd>
<dd><code>xc</code> - xcross</dd>
<dd><code>xt</code> - xtrans</dd>
<dd><code>distance</code> - source-receiver distance</dd>
<dd><code>q</code> - the attenuation term</dd>
<dt>Returns:</dt>
<dd>-log10(esh) + distance*pi*f0*log10(e) / (vphase* q)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="log10ESHcorrection(double,double,double,double,double)">
<h3>log10ESHcorrection</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">log10ESHcorrection</span><wbr><span class="parameters">(double&nbsp;s1,
 double&nbsp;s2,
 double&nbsp;xcross,
 double&nbsp;xtrans,
 double&nbsp;distance)</span></div>
<div class="block">Extended Street and Herrmann path correction

 calculate log10 extended Street-Herrmann model for one distance no site,
 no Q terms

 translated from Scott Phillips original fortran function eshmod</div>
</section>
</li>
<li>
<section class="detail" id="computeReferenceSpectra(gov.llnl.gnem.apps.coda.calibration.model.domain.ReferenceMwParameters,java.util.List,gov.llnl.gnem.apps.coda.common.model.util.PICK_TYPES)">
<h3>computeReferenceSpectra</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../model/domain/Spectra.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">Spectra</a></span>&nbsp;<span class="element-name">computeReferenceSpectra</span><wbr><span class="parameters">(<a href="../../../model/domain/ReferenceMwParameters.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">ReferenceMwParameters</a>&nbsp;refEvent,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>&gt;&nbsp;bands,
 <a href="../../../../common/model/util/PICK_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">PICK_TYPES</a>&nbsp;selectedPhase)</span></div>
</section>
</li>
<li>
<section class="detail" id="computeFitSpectra(gov.llnl.gnem.apps.coda.calibration.model.domain.MeasuredMwParameters,java.util.Collection,gov.llnl.gnem.apps.coda.common.model.util.PICK_TYPES)">
<h3>computeFitSpectra</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../model/domain/Spectra.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">Spectra</a></span>&nbsp;<span class="element-name">computeFitSpectra</span><wbr><span class="parameters">(<a href="../../../model/domain/MeasuredMwParameters.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MeasuredMwParameters</a>&nbsp;event,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>&gt;&nbsp;bands,
 <a href="../../../../common/model/util/PICK_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">PICK_TYPES</a>&nbsp;selectedPhase)</span></div>
</section>
</li>
<li>
<section class="detail" id="computeSpecificSpectraFromM0(double,double,double,double,int)">
<h3>computeSpecificSpectraFromM0</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../model/domain/Spectra.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">Spectra</a></span>&nbsp;<span class="element-name">computeSpecificSpectraFromM0</span><wbr><span class="parameters">(double&nbsp;moment,
 double&nbsp;apparentStress,
 double&nbsp;startBand,
 double&nbsp;stopBand,
 int&nbsp;bandCount)</span></div>
</section>
</li>
<li>
<section class="detail" id="computeSpecificSpectra(java.lang.Double,java.lang.Double,gov.llnl.gnem.apps.coda.calibration.service.impl.processing.EnergyInfo,java.util.Collection,gov.llnl.gnem.apps.coda.common.model.util.PICK_TYPES,gov.llnl.gnem.apps.coda.common.model.util.SPECTRA_TYPES)">
<h3>computeSpecificSpectra</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../model/domain/Spectra.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">Spectra</a></span>&nbsp;<span class="element-name">computeSpecificSpectra</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&nbsp;mw,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&nbsp;apparentStress,
 <a href="EnergyInfo.html" title="class in gov.llnl.gnem.apps.coda.calibration.service.impl.processing">EnergyInfo</a>&nbsp;energyInfo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>&gt;&nbsp;bands,
 <a href="../../../../common/model/util/PICK_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">PICK_TYPES</a>&nbsp;selectedPhase,
 <a href="../../../../common/model/util/SPECTRA_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">SPECTRA_TYPES</a>&nbsp;type)</span></div>
</section>
</li>
<li>
<section class="detail" id="measureMws(gov.llnl.gnem.apps.coda.calibration.service.impl.processing.MwMeasurementInputData,gov.llnl.gnem.apps.coda.common.model.util.PICK_TYPES,gov.llnl.gnem.apps.coda.calibration.model.domain.MdacParametersFI)">
<h3>measureMws</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../model/domain/MeasuredMwParameters.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MeasuredMwParameters</a>&gt;</span>&nbsp;<span class="element-name">measureMws</span><wbr><span class="parameters">(<a href="MwMeasurementInputData.html" title="class in gov.llnl.gnem.apps.coda.calibration.service.impl.processing">MwMeasurementInputData</a>&nbsp;inputData,
 <a href="../../../../common/model/util/PICK_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">PICK_TYPES</a>&nbsp;selectedPhase,
 <a href="../../../model/domain/MdacParametersFI.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MdacParametersFI</a>&nbsp;mdacFi)</span></div>
<div class="block">An estimate of the Mw and corner frequency based on Mdac spectra Based on
 the MDAC2 spectra calculations published by Walter and Taylor, 2001
 UCRL-ID-146882</div>
</section>
</li>
<li>
<section class="detail" id="calcTotalEnergyInfo(java.util.SortedMap,double,double,gov.llnl.gnem.apps.coda.calibration.model.domain.MdacParametersFI,gov.llnl.gnem.apps.coda.calibration.model.domain.Spectra)">
<h3>calcTotalEnergyInfo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="EnergyInfo.html" title="class in gov.llnl.gnem.apps.coda.calibration.service.impl.processing">EnergyInfo</a></span>&nbsp;<span class="element-name">calcTotalEnergyInfo</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedMap.html" title="class or interface in java.util" class="external-link">SortedMap</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;measurements,
 double&nbsp;mwMDAC,
 double&nbsp;apparentStress,
 <a href="../../../model/domain/MdacParametersFI.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MdacParametersFI</a>&nbsp;mdacFI,
 <a href="../../../model/domain/Spectra.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">Spectra</a>&nbsp;spec)</span></div>
<div class="block">Now compute the total energy by summing the squared product of the
 discrete path-corrected moment rate spectra and omega. Then divide by
 (Radiation)/4*pi*pi*rho*(vel**5) Radiation=(2/5)

 Then finally multiply by delta omega at the front.

 Mayeda, K., and Walter, W. R. (1996), Moment, energy, stress drop, and
 source spectra of western United States earthquakes from regional coda
 envelopes, J. Geophys. Res., 101( B5), 11195– 11208,
 doi:10.1029/96JB00112.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>spec</code> - </dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fitMw(gov.llnl.gnem.apps.coda.common.model.domain.Event,java.util.Map,gov.llnl.gnem.apps.coda.common.model.util.PICK_TYPES,gov.llnl.gnem.apps.coda.calibration.model.domain.MdacParametersFI,gov.llnl.gnem.apps.coda.calibration.model.domain.MdacParametersPS,java.util.function.Function)">
<h3>fitMw</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name">fitMw</span><wbr><span class="parameters">(<a href="../../../../common/model/domain/Event.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">Event</a>&nbsp;event,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../../../common/model/domain/FrequencyBand.html" title="class in gov.llnl.gnem.apps.coda.common.model.domain">FrequencyBand</a>,<wbr>org.apache.commons.math3.stat.descriptive.SummaryStatistics&gt;&nbsp;measurements,
 <a href="../../../../common/model/util/PICK_TYPES.html" title="enum class in gov.llnl.gnem.apps.coda.common.model.util">PICK_TYPES</a>&nbsp;phase,
 <a href="../../../model/domain/MdacParametersFI.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MdacParametersFI</a>&nbsp;mdacFi,
 <a href="../../../model/domain/MdacParametersPS.html" title="class in gov.llnl.gnem.apps.coda.calibration.model.domain">MdacParametersPS</a>&nbsp;mdacPs,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedMap.html" title="class or interface in java.util" class="external-link">SortedMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&gt;&nbsp;weightFunction)</span></div>
<div class="block">Grid search across a range of corner frequency and stress parameters
 looking for the best fit theoretical source spectra and return the
 resulting MW measurement.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>event</code> - </dd>
<dd><code>measurements</code> - - the measured spectra values by frequency band</dd>
<dd><code>phase</code> - - the phase (e.g. "Lg") this should be present in the Mdac
            parameter set</dd>
<dt>Returns:</dt>
<dd>double[] containing the final fit measurements</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WCVRMSD(java.util.Map,java.util.Map)">
<h3>WCVRMSD</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">WCVRMSD</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;weightMap,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr>double[]&gt;&nbsp;dataMap)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>weightMap</code> - </dd>
<dd><code>dataMap</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
